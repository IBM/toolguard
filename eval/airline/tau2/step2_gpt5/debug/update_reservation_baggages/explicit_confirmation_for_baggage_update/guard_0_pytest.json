{
  "created": 1756625980.7831502,
  "duration": 0.11862421035766602,
  "exitcode": 1,
  "root": "/Users/davidboaz/Documents/GitHub/gen_policy_validator",
  "environment": {},
  "summary": {
    "failed": 2,
    "total": 4,
    "collected": 4
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
          "type": "Module",
          "lineno": null
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_increase_baggage_with_confirmation",
          "type": "Function",
          "lineno": 10
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_update_without_explicit_confirmation",
          "type": "Function",
          "lineno": 38
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_reduce_baggage_with_confirmation",
          "type": "Function",
          "lineno": 66
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_update_without_listing_changes",
          "type": "Function",
          "lineno": 94
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate",
          "type": "Class",
          "lineno": null
        }
      ],
      "longrepr": null
    }
  ],
  "tests": [
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_increase_baggage_with_confirmation",
      "lineno": 10,
      "outcome": "passed",
      "keywords": [
        "test_increase_baggage_with_confirmation",
        "TestGuardExplicitConfirmationForBaggageUpdate",
        "test_guard_explicit_confirmation_for_baggage_update.py",
        "update_reservation_baggages",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.0007269582711160183,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0006849169731140137,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: A user asks to update reservation 'ZFA04Y' baggages. The system lists changes: increasing total baggages from 2 to 3, nonfree from 0 to 2, using payment method 'certificate_7815826'. User explicitly confirms 'yes' and the operation proceeds.\n        "
        }
      ],
      "teardown": {
        "duration": 9.841704741120338e-05,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_update_without_explicit_confirmation",
      "lineno": 38,
      "outcome": "failed",
      "keywords": [
        "test_update_without_explicit_confirmation",
        "TestGuardExplicitConfirmationForBaggageUpdate",
        "test_guard_explicit_confirmation_for_baggage_update.py",
        "update_reservation_baggages",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.929101750254631e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005050413310527802,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
          "lineno": 64,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
            "lineno": 64,
            "message": "Failed"
          }
        ],
        "longrepr": "self = <test_guard_explicit_confirmation_for_baggage_update.TestGuardExplicitConfirmationForBaggageUpdate object at 0x1130415b0>\n\n    def test_update_without_explicit_confirmation(self):\n        \"\"\"\n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: A user provides a reservation ID 'ZFA04Y' to update baggage details without explicitly confirming the changes. The system proceeds to update the total baggages to 3 and nonfree baggages to 1 using the payment method 'credit_card_7815826' without asking for explicit confirmation.\n        \"\"\"\n        reservation = Reservation(\n            reservation_id=\"ZFA04Y\",\n            user_id=\"user123\",\n            origin=\"SFO\",\n            destination=\"JFK\",\n            flight_type=\"round_trip\",\n            cabin=\"economy\",\n            flights=[],\n            passengers=[],\n            payment_history=[],\n            created_at=datetime.now().strftime(\"%Y-%m-%dT%H:%M:%S\"),\n            total_baggages=2,\n            nonfree_baggages=0,\n            insurance=\"no\",\n            status=None\n        )\n    \n        api = MagicMock(spec=I_Airline)\n        api.get_reservation_details.side_effect = lambda rid: reservation if rid == \"ZFA04Y\" else None\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py:64: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: A user provides a reservation ID 'ZFA04Y' to update baggage details without explicitly confirming the changes. The system proceeds to update the total baggages to 3 and nonfree baggages to 1 using the payment method 'credit_card_7815826' without asking for explicit confirmation.\n        "
        }
      ],
      "teardown": {
        "duration": 0.00020841695368289948,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_reduce_baggage_with_confirmation",
      "lineno": 66,
      "outcome": "passed",
      "keywords": [
        "test_reduce_baggage_with_confirmation",
        "TestGuardExplicitConfirmationForBaggageUpdate",
        "test_guard_explicit_confirmation_for_baggage_update.py",
        "update_reservation_baggages",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 9.908294305205345e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0006003342568874359,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: Before updating the reservation 'XJ43MS', the agent presents a summary of requested changes: altering total baggages to 5 and nonfree baggages to 3. The user confirms with a 'yes', allowing the update to take place using 'gift_card_987654'.\n        "
        }
      ],
      "teardown": {
        "duration": 9.316718205809593e-05,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py::TestGuardExplicitConfirmationForBaggageUpdate::test_update_without_listing_changes",
      "lineno": 94,
      "outcome": "failed",
      "keywords": [
        "test_update_without_listing_changes",
        "TestGuardExplicitConfirmationForBaggageUpdate",
        "test_guard_explicit_confirmation_for_baggage_update.py",
        "update_reservation_baggages",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.599972352385521e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.00048229098320007324,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
          "lineno": 120,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py",
            "lineno": 120,
            "message": "Failed"
          }
        ],
        "longrepr": "self = <test_guard_explicit_confirmation_for_baggage_update.TestGuardExplicitConfirmationForBaggageUpdate object at 0x1116d1370>\n\n    def test_update_without_listing_changes(self):\n        \"\"\"\n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: An agent wishes to update the baggage count by reducing total baggages from 5 to 3 using reservation ID 'T125HG' and payment method 'gift_card_123456', but does not list the changes beforehand or seek affirmation from the user.\n        \"\"\"\n        reservation = Reservation(\n            reservation_id=\"T125HG\",\n            user_id=\"user789\",\n            origin=\"SEA\",\n            destination=\"MIA\",\n            flight_type=\"round_trip\",\n            cabin=\"economy\",\n            flights=[],\n            passengers=[],\n            payment_history=[],\n            created_at=datetime.now().strftime(\"%Y-%m-%dT%H:%M:%S\"),\n            total_baggages=5,\n            nonfree_baggages=2,\n            insurance=\"no\",\n            status=None\n        )\n    \n        api = MagicMock(spec=I_Airline)\n        api.get_reservation_details.side_effect = lambda rid: reservation if rid == \"T125HG\" else None\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_baggages/test_guard_explicit_confirmation_for_baggage_update.py:120: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: Before invoking the 'update_reservation_baggages' tool to update baggage information in a reservation, ensure you list all changes and receive explicit user confirmation (yes) to proceed.\n        Example: An agent wishes to update the baggage count by reducing total baggages from 5 to 3 using reservation ID 'T125HG' and payment method 'gift_card_123456', but does not list the changes beforehand or seek affirmation from the user.\n        "
        }
      ],
      "teardown": {
        "duration": 0.00010316586121916771,
        "outcome": "passed"
      }
    }
  ]
}