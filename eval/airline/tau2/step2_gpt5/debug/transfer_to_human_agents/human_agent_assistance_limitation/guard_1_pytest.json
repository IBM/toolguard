{
  "created": 1756626026.72602,
  "duration": 0.1582472324371338,
  "exitcode": 1,
  "root": "/Users/davidboaz/Documents/GitHub/gen_policy_validator",
  "environment": {},
  "summary": {
    "failed": 1,
    "total": 3,
    "collected": 3
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py",
          "type": "Module",
          "lineno": null
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_update_passenger_details_no_transfer",
          "type": "Function",
          "lineno": 8
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_modify_passenger_count_raises_violation",
          "type": "Function",
          "lineno": 35
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_additional_passenger_transfer_violation",
          "type": "Function",
          "lineno": 62
        }
      ],
      "longrepr": null
    }
  ],
  "tests": [
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_update_passenger_details_no_transfer",
      "lineno": 8,
      "outcome": "passed",
      "keywords": [
        "test_update_passenger_details_no_transfer",
        "test_guard_human_agent_assistance_limitation.py",
        "transfer_to_human_agents",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.0011098748072981834,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0008467501029372215,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: For requests involving changes to the number of passengers in a reservation, transfer to a human agent is not permitted.\n    Example: A user requests to update passenger details without changing the number of passengers and is not transferred to a human agent since the tool can handle the modification, adhering to the policy.\n    "
        }
      ],
      "teardown": {
        "duration": 0.0002770419232547283,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_modify_passenger_count_raises_violation",
      "lineno": 35,
      "outcome": "passed",
      "keywords": [
        "test_modify_passenger_count_raises_violation",
        "test_guard_human_agent_assistance_limitation.py",
        "transfer_to_human_agents",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.00010258285328745842,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0006062495522201061,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: For requests involving changes to the number of passengers in a reservation, transfer to a human agent is not permitted.\n    Example: A user requests to change the number of passengers in a reservation and since it cannot be done via the automated system, the user is transferred to a human agent, violating the policy.\n    "
        }
      ],
      "teardown": {
        "duration": 0.00010541733354330063,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py::test_additional_passenger_transfer_violation",
      "lineno": 62,
      "outcome": "failed",
      "keywords": [
        "test_additional_passenger_transfer_violation",
        "test_guard_human_agent_assistance_limitation.py",
        "transfer_to_human_agents",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.741579949855804e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.002348915673792362,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py",
          "lineno": 87,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py",
            "lineno": 87,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_additional_passenger_transfer_violation():\n        \"\"\"\n        Policy: For requests involving changes to the number of passengers in a reservation, transfer to a human agent is not permitted.\n        Example: A customer is transferred to a human agent after attempting to add an additional passenger to their booking, which the policy clearly prohibits.\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        reservation = Reservation(\n            reservation_id=\"RES789\",\n            user_id=\"USER789\",\n            origin=\"MIA\",\n            destination=\"SEA\",\n            flight_type=\"round_trip\",\n            cabin=\"economy\",\n            flights=[ReservationFlight(flight_number=\"FL789\", origin=\"MIA\", destination=\"SEA\", date=\"2024-09-10\", price=400)],\n            passengers=[Passenger(first_name=\"Bob\", last_name=\"Brown\", dob=\"1970-12-12\")],\n            payment_history=[],\n            created_at=datetime.now().strftime(\"%Y-%m-%dT%H:%M:%S\"),\n            total_baggages=0,\n            nonfree_baggages=0,\n            insurance=\"no\",\n            status=None\n        )\n        api.get_reservation_details.side_effect = lambda rid: reservation if rid == \"RES789\" else None\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/transfer_to_human_agents/test_guard_human_agent_assistance_limitation.py:87: Failed"
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: For requests involving changes to the number of passengers in a reservation, transfer to a human agent is not permitted.\n    Example: A customer is transferred to a human agent after attempting to add an additional passenger to their booking, which the policy clearly prohibits.\n    "
        }
      ],
      "teardown": {
        "duration": 0.00017974991351366043,
        "outcome": "passed"
      }
    }
  ]
}