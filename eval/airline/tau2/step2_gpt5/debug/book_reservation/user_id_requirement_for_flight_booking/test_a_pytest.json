{
  "created": 1756625973.927607,
  "duration": 0.13405418395996094,
  "exitcode": 1,
  "root": "/Users/davidboaz/Documents/GitHub/gen_policy_validator",
  "environment": {},
  "summary": {
    "failed": 3,
    "total": 6,
    "collected": 6
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
          "type": "Module",
          "lineno": null
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_user_id_first_then_inquiries",
          "type": "Function",
          "lineno": 7
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_user_id_validated_first",
          "type": "Function",
          "lineno": 35
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_confirm_user_id_then_flight_details",
          "type": "Function",
          "lineno": 63
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_booking_without_user_id",
          "type": "Function",
          "lineno": 91
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_payment_and_flight_without_user_id",
          "type": "Function",
          "lineno": 117
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_insurance_and_baggage_without_user_id",
          "type": "Function",
          "lineno": 143
        }
      ],
      "longrepr": null
    }
  ],
  "tests": [
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_user_id_first_then_inquiries",
      "lineno": 7,
      "outcome": "passed",
      "keywords": [
        "test_compliance_user_id_first_then_inquiries",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.0008898330852389336,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0009233332239091396,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"The agent asks the user for their user ID before proceeding with any inquiries on trip type, origin, destination, passenger list, and payment methods, ensuring compliance.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00013183383271098137,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_user_id_validated_first",
      "lineno": 35,
      "outcome": "passed",
      "keywords": [
        "test_compliance_user_id_validated_first",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.00028466666117310524,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.000559499952942133,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"User ID is obtained and validated first, followed by inquiries about flight type, cabin class, and insurance coverage, maintaining the correct sequence as per policy.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00016466714441776276,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_compliance_confirm_user_id_then_flight_details",
      "lineno": 63,
      "outcome": "passed",
      "keywords": [
        "test_compliance_confirm_user_id_then_flight_details",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 9.758397936820984e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005019167438149452,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"Upon confirming the user's ID, such as 'sara_doe_496', the agent systematically handles inquiries about flight specifics, ensuring compliance through verification of user ID first.\"\n    "
        }
      ],
      "teardown": {
        "duration": 8.941721171140671e-05,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_booking_without_user_id",
      "lineno": 91,
      "outcome": "failed",
      "keywords": [
        "test_violation_booking_without_user_id",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.5500068962574e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0004450003616511822,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
          "lineno": 102,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
            "lineno": 102,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_violation_booking_without_user_id():\n        \"\"\"\n        Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n        Example: \"The agent proceeds to book a flight without first obtaining the user ID, starting inquiries directly with the trip type, origin, and destination, which violates the policy of collecting user ID first.\"\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        flights = [FlightInfo(flight_number=\"HAT004\", date=\"2024-08-01\")]\n        passengers = [Passenger(first_name=\"Charlie\", last_name=\"Davis\", dob=\"1995-03-03\")]\n        payments = [Payment(payment_id=\"pay101\", amount=400)]\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py:102: Failed"
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"The agent proceeds to book a flight without first obtaining the user ID, starting inquiries directly with the trip type, origin, and destination, which violates the policy of collecting user ID first.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00021449988707900047,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_payment_and_flight_without_user_id",
      "lineno": 117,
      "outcome": "failed",
      "keywords": [
        "test_violation_payment_and_flight_without_user_id",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.00011920882388949394,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005681673064827919,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
          "lineno": 128,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
            "lineno": 128,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_violation_payment_and_flight_without_user_id():\n        \"\"\"\n        Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n        Example: \"Booking is initiated with discussions about payment methods, flight details, and cabin preferences without confirming the user ID beforehand, contrary to policy requirements.\"\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        flights = [FlightInfo(flight_number=\"HAT005\", date=\"2024-09-01\")]\n        passengers = [Passenger(first_name=\"Dana\", last_name=\"Evans\", dob=\"1988-08-08\")]\n        payments = [Payment(payment_id=\"pay202\", amount=600)]\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py:128: Failed"
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"Booking is initiated with discussions about payment methods, flight details, and cabin preferences without confirming the user ID beforehand, contrary to policy requirements.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00015174970030784607,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py::test_violation_insurance_and_baggage_without_user_id",
      "lineno": 143,
      "outcome": "failed",
      "keywords": [
        "test_violation_insurance_and_baggage_without_user_id",
        "test_guard_user_id_requirement_for_flight_booking.py",
        "book_reservation",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 9.449990466237068e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.00048183323815464973,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
          "lineno": 154,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py",
            "lineno": 154,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_violation_insurance_and_baggage_without_user_id():\n        \"\"\"\n        Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n        Example: \"The agent asks for insurance preferences, baggage information, and passenger count directly without verifying the user ID at the start, failing to adhere to user ID sequence policy.\"\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        flights = [FlightInfo(flight_number=\"HAT006\", date=\"2024-10-01\")]\n        passengers = [Passenger(first_name=\"Eve\", last_name=\"Foster\", dob=\"1992-11-11\")]\n        payments = [Payment(payment_id=\"pay303\", amount=800)]\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/book_reservation/test_guard_user_id_requirement_for_flight_booking.py:154: Failed"
      },
      "user_properties": [
        {
          "docstring": "\n    Policy: \"The agent must first obtain the user ID before proceeding with flight booking and subsequent inquiries for trip type, origin, and destination.\"\n    Example: \"The agent asks for insurance preferences, baggage information, and passenger count directly without verifying the user ID at the start, failing to adhere to user ID sequence policy.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00038291700184345245,
        "outcome": "passed"
      }
    }
  ]
}