{
  "created": 1756625945.078424,
  "duration": 0.11805415153503418,
  "exitcode": 1,
  "root": "/Users/davidboaz/Documents/GitHub/gen_policy_validator",
  "environment": {},
  "summary": {
    "failed": 2,
    "total": 3,
    "collected": 3
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
          "type": "Module",
          "lineno": null
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_compliance_with_explicit_yes_before_update",
          "type": "Function",
          "lineno": 10
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_violation_no_confirmation_before_update",
          "type": "Function",
          "lineno": 20
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_violation_implicit_consent_not_yes",
          "type": "Function",
          "lineno": 30
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired",
          "type": "Class",
          "lineno": null
        }
      ],
      "longrepr": null
    }
  ],
  "tests": [
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_compliance_with_explicit_yes_before_update",
      "lineno": 10,
      "outcome": "passed",
      "keywords": [
        "test_compliance_with_explicit_yes_before_update",
        "TestGuardExplicitUserConfirmationRequired",
        "test_guard_explicit_user_confirmation_required.py",
        "update_reservation_flights",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.0008354578167200089,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0006141248159110546,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: \"Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed.\"\n        Example: \"The agent presents the updated flight itinerary, cabin class changes, and passenger adjustments in detail and waits for the user to reply 'yes' before proceeding, ensuring compliance with the required user confirmation.\"\n        "
        }
      ],
      "teardown": {
        "duration": 0.00010108295828104019,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_violation_no_confirmation_before_update",
      "lineno": 20,
      "outcome": "failed",
      "keywords": [
        "test_violation_no_confirmation_before_update",
        "TestGuardExplicitUserConfirmationRequired",
        "test_guard_explicit_user_confirmation_required.py",
        "update_reservation_flights",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 9.437510743737221e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.00044408394023776054,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
          "lineno": 28,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
            "lineno": 28,
            "message": "Failed"
          }
        ],
        "longrepr": "self = <test_guard_explicit_user_confirmation_required.TestGuardExplicitUserConfirmationRequired object at 0x1078e52b0>\n\n    def test_violation_no_confirmation_before_update(self):\n        \"\"\"\n        Policy: \"Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed.\"\n        Example: \"An agent updates the flight details of a reservation without asking the user for confirmation, proceeding with changes based on assumed preferences, which violates the requirement for explicit user consent.\"\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        flights = [FlightInfo(flight_number=\"HAT002\", date=\"2024-06-01\")]\n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py:28: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: \"Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed.\"\n        Example: \"An agent updates the flight details of a reservation without asking the user for confirmation, proceeding with changes based on assumed preferences, which violates the requirement for explicit user consent.\"\n        "
        }
      ],
      "teardown": {
        "duration": 0.00021520815789699554,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py::TestGuardExplicitUserConfirmationRequired::test_violation_implicit_consent_not_yes",
      "lineno": 30,
      "outcome": "failed",
      "keywords": [
        "test_violation_implicit_consent_not_yes",
        "TestGuardExplicitUserConfirmationRequired",
        "test_guard_explicit_user_confirmation_required.py",
        "update_reservation_flights",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.00010116677731275558,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005194172263145447,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
          "lineno": 38,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py",
            "lineno": 38,
            "message": "Failed"
          }
        ],
        "longrepr": "self = <test_guard_explicit_user_confirmation_required.TestGuardExplicitUserConfirmationRequired object at 0x107e34a70>\n\n    def test_violation_implicit_consent_not_yes(self):\n        \"\"\"\n        Policy: \"Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed.\"\n        Example: \"A reservation update is initiated after receiving implicit consent from phrases like 'okay' or 'sounds good', rather than a clear 'yes', which does not meet the policy's explicit confirmation standard.\"\n        \"\"\"\n        api = MagicMock(spec=I_Airline)\n        flights = [FlightInfo(flight_number=\"HAT003\", date=\"2024-07-01\")]\n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_flights/test_guard_explicit_user_confirmation_required.py:38: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n        Policy: \"Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed.\"\n        Example: \"A reservation update is initiated after receiving implicit consent from phrases like 'okay' or 'sounds good', rather than a clear 'yes', which does not meet the policy's explicit confirmation standard.\"\n        "
        }
      ],
      "teardown": {
        "duration": 9.966688230633736e-05,
        "outcome": "passed"
      }
    }
  ]
}