{
  "created": 1756625976.543226,
  "duration": 0.1255810260772705,
  "exitcode": 1,
  "root": "/Users/davidboaz/Documents/GitHub/gen_policy_validator",
  "environment": {},
  "summary": {
    "failed": 2,
    "total": 4,
    "collected": 4
  },
  "collectors": [
    {
      "nodeid": "",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
          "type": "Module",
          "lineno": null
        }
      ],
      "longrepr": null
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
      "outcome": "passed",
      "result": [
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_update_passenger_details_same_count",
          "type": "Function",
          "lineno": 8
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_reduce_passenger_count_raises",
          "type": "Function",
          "lineno": 48
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_increase_passenger_count_raises",
          "type": "Function",
          "lineno": 86
        },
        {
          "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_modify_passenger_ages_same_count",
          "type": "Function",
          "lineno": 126
        }
      ],
      "longrepr": null
    }
  ],
  "tests": [
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_update_passenger_details_same_count",
      "lineno": 8,
      "outcome": "passed",
      "keywords": [
        "test_update_passenger_details_same_count",
        "test_guard_validate_passenger_number_consistency.py",
        "update_reservation_passengers",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 0.0007981248199939728,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0006639170460402966,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": " \n    Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n    Example: \"A user updates the reservation 'ZFA04Y', originally for 3 passengers, by changing the name and date of birth of a passenger while maintaining the total number unchanged.\"\n    "
        }
      ],
      "teardown": {
        "duration": 9.837513789534569e-05,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_reduce_passenger_count_raises",
      "lineno": 48,
      "outcome": "failed",
      "keywords": [
        "test_reduce_passenger_count_raises",
        "test_guard_validate_passenger_number_consistency.py",
        "update_reservation_passengers",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.93748365342617e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005123326554894447,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
          "lineno": 84,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
            "lineno": 84,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_reduce_passenger_count_raises():\n        \"\"\"\n        Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n        Example: \"A user attempts to update a reservation with ID 'ZFA04Y', initially having 3 passengers, to an updated list containing only 2 passengers.\"\n        \"\"\"\n    \n        original_passengers = [\n            Passenger(first_name=\"John\", last_name=\"Doe\", dob=\"1990-01-01\"),\n            Passenger(first_name=\"Jane\", last_name=\"Smith\", dob=\"1985-05-05\"),\n            Passenger(first_name=\"Alice\", last_name=\"Brown\", dob=\"2000-07-07\")\n        ]\n        reservation = Reservation(\n            reservation_id=\"ZFA04Y\",\n            user_id=\"user123\",\n            origin=\"SFO\",\n            destination=\"JFK\",\n            flight_type=\"round_trip\",\n            cabin=\"economy\",\n            flights=[],\n            passengers=original_passengers,\n            payment_history=[],\n            created_at=datetime.now().strftime(\"%Y-%m-%dT%H:%M:%S\"),\n            total_baggages=2,\n            nonfree_baggages=1,\n            insurance=\"yes\",\n            status=None\n        )\n        api = MagicMock(spec=I_Airline)\n        api.get_reservation_details.side_effect = lambda rid: reservation if rid == \"ZFA04Y\" else None\n    \n        updated_passengers = [\n            Passenger(first_name=\"John\", last_name=\"Doe\", dob=\"1990-01-01\"),\n            Passenger(first_name=\"Jane\", last_name=\"Smith\", dob=\"1985-05-05\")\n        ]\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py:84: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n    Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n    Example: \"A user attempts to update a reservation with ID 'ZFA04Y', initially having 3 passengers, to an updated list containing only 2 passengers.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00017537502571940422,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_increase_passenger_count_raises",
      "lineno": 86,
      "outcome": "failed",
      "keywords": [
        "test_increase_passenger_count_raises",
        "test_guard_validate_passenger_number_consistency.py",
        "update_reservation_passengers",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 9.804219007492065e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0005982080474495888,
        "outcome": "failed",
        "crash": {
          "path": "/Users/davidboaz/Documents/GitHub/gen_policy_validator/eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
          "lineno": 124,
          "message": "Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>"
        },
        "traceback": [
          {
            "path": "tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py",
            "lineno": 124,
            "message": "Failed"
          }
        ],
        "longrepr": "def test_increase_passenger_count_raises():\n        \"\"\"\n        Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n        Example: \"A user tries to modify the reservation 'ZFA04Y' by adding a fourth passenger when the reservation originally included 3 passengers.\"\n        \"\"\"\n    \n        original_passengers = [\n            Passenger(first_name=\"John\", last_name=\"Doe\", dob=\"1990-01-01\"),\n            Passenger(first_name=\"Jane\", last_name=\"Smith\", dob=\"1985-05-05\"),\n            Passenger(first_name=\"Alice\", last_name=\"Brown\", dob=\"2000-07-07\")\n        ]\n        reservation = Reservation(\n            reservation_id=\"ZFA04Y\",\n            user_id=\"user123\",\n            origin=\"SFO\",\n            destination=\"JFK\",\n            flight_type=\"round_trip\",\n            cabin=\"economy\",\n            flights=[],\n            passengers=original_passengers,\n            payment_history=[],\n            created_at=datetime.now().strftime(\"%Y-%m-%dT%H:%M:%S\"),\n            total_baggages=2,\n            nonfree_baggages=1,\n            insurance=\"yes\",\n            status=None\n        )\n        api = MagicMock(spec=I_Airline)\n        api.get_reservation_details.side_effect = lambda rid: reservation if rid == \"ZFA04Y\" else None\n    \n        updated_passengers = [\n            Passenger(first_name=\"John\", last_name=\"Doe\", dob=\"1990-01-01\"),\n            Passenger(first_name=\"Jane\", last_name=\"Smith\", dob=\"1985-05-05\"),\n            Passenger(first_name=\"Alice\", last_name=\"Brown\", dob=\"2000-07-07\"),\n            Passenger(first_name=\"Bob\", last_name=\"White\", dob=\"1995-09-09\")\n        ]\n    \n>       with pytest.raises(PolicyViolationException):\nE       Failed: DID NOT RAISE <class 'rt_toolguard.data_types.PolicyViolationException'>\n\ntests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py:124: Failed"
      },
      "user_properties": [
        {
          "docstring": " \n    Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n    Example: \"A user tries to modify the reservation 'ZFA04Y' by adding a fourth passenger when the reservation originally included 3 passengers.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00010366644710302353,
        "outcome": "passed"
      }
    },
    {
      "nodeid": "eval/airline/output/2025-08-31_10_38_30/tests/update_reservation_passengers/test_guard_validate_passenger_number_consistency.py::test_modify_passenger_ages_same_count",
      "lineno": 126,
      "outcome": "passed",
      "keywords": [
        "test_modify_passenger_ages_same_count",
        "test_guard_validate_passenger_number_consistency.py",
        "update_reservation_passengers",
        "tests",
        "2025-08-31_10_38_30",
        "output",
        "airline",
        "eval",
        "gen_policy_validator",
        ""
      ],
      "setup": {
        "duration": 8.425023406744003e-05,
        "outcome": "passed"
      },
      "call": {
        "duration": 0.0007042502984404564,
        "outcome": "passed",
        "crash": null,
        "traceback": null,
        "longrepr": null
      },
      "user_properties": [
        {
          "docstring": " \n    Policy: \"When modifying passenger details in a reservation using ToolX, ensure the number of passengers remains the same.\"\n    Example: \"User modifies passenger ages in the reservation with ID 'ZFA04Y', containing 4 passengers, ensuring no passenger is added or removed.\"\n    "
        }
      ],
      "teardown": {
        "duration": 0.00016929209232330322,
        "outcome": "passed"
      }
    }
  ]
}